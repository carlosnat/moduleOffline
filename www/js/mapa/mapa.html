<ion-nav-view>
    <ion-header-bar class="bar-stable">
      <h1 class="title">Mapa adelca</h1>
    </ion-header-bar>
    <ion-content class="has-header">

      <style>
      #mainMapa { 
        width:100%; 
        height: 100%; 
      }
      .btn-config-map{
        position: absolute;
        top: 3%;
        right: 3%;
        z-index: 999;
        width: 2.2em;
        height: 2.2em;
        background: #fbfbfb;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        box-shadow: 1px 4px 10px 0px #a7a7a7;
        font-size: 1.4rem;
      }
      .config-mapa{
        position: absolute;
        top: 3%;
        z-index: 9999;
        background-color: #efefef;
        width: 70%;
        right: 1em;
        padding: 3%;
      }
      .config-mapa span:nth-child(1){
        margin-bottom: 3%;
      }
      .wrap-options{
        display: flex;
      }
      .config-mapa-option{
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        width: 50%;
      }
      .config-mapa-option i{
        font-size: 3rem;
      }
      .map-option-active{
        border: 1px solid #887c7e;
      }
      .cant-use-offline{
        color: gray;
      }
      .btn-close-map-config{
        position: absolute;
        top: 7%;
        right: 6%;
        font-size: 2em;
      }
      .waiting-config-map{
        position: absolute;
        z-index: 999;
        top: 5vh;
        left: 2vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #4444449e;
        padding: 4px 3px 1px 5px;
        color: #fff;
      }
      .waiting-config-map span{
        display: inline-block;
        padding: 1px 7px 5px 5px;
      }
      </style>

      <div id="mainMapa" data-tap-disabled="true"></div>

      <div class="waiting-config-map" ng-if="mapa.isConfigNewLayer">
        <ion-spinner icon="ripple"></ion-spinner>
        <span>Configurando mapa</span>
      </div>
      
      <div class="btn-config-map" ng-click="mapa.showOptionsLayer()">
        <i class="icon ion-ios-gear"></i>
      </div>

      <div class="config-mapa" ng-init="mapa.showMapOptions = false" ng-show="mapa.showMapOptions">
        <h4>Configurar mapa</h4>
        <span>Modo de mapa</span>
        <i ng-click="mapa.showMapOptions = false" class="icon ion-ios-close-outline btn-close-map-config"></i>
        <div class="wrap-options">

          <div ng-class="{'map-option-active':mapa.isUserOnline}" class="config-mapa-option" ng-click="mapa.setNetwork('on')">
            <i class="icon ion-wifi"></i>
            <span>Online</span>
          </div>

          <div ng-class="{'map-option-active':!mapa.isUserOnline, 'cant-use-offline':!mapa.userHaveTiles}" class="config-mapa-option" ng-click="mapa.setNetwork('off')">
            <i class="icon ion-alert-circled"></i>
            <span>Offline</span>
          </div>
        </div>

      </div>

    </ion-content>
  </ion-nav-view>